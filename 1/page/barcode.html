<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/css/barcode.css">
    <script src="/js/jquery-3.6.0.min.js"></script>
</head>

<body>
    <div class="wrapper">
        <div class="content">
            <!-- [)>06VPB31P89311GX300SET250211G1A1A0000001AC00.000.0 -->
            <table>
                <tr>
                    <th colspan="2">구분</th>
                    <th>데이터</th>
                </tr>
                <tr>
                    <td rowspan="4">사양정보</td>
                    <td>업체코드</td>
                    <td><input type="text" id="data1" value="PB31"></td>
                </tr>
                <tr>
                    <td>부품번호</td>
                    <td><input type="text" id="data2" value="89311X9500"></td>
                </tr>
                <tr>
                    <td>서열코드</td>
                    <td><input type="text" id="data3" value=""></td>
                </tr>
                <tr>
                    <td>EO번호</td>
                    <td><input type="text" id="data4" value=""></td>
                </tr>
                <tr>
                    <td rowspan="4">추적정보</td>
                    <td>생산일자</td>
                    <td><input type="date" id="data5" value="<?php echo date('Y-m-d'); ?>"></td>
                </tr>
                <tr>
                    <td>부품4M</td>
                    <td><input type="text" id="data6" value="G1A1"></td>
                </tr>
                <tr>
                    <td>A or @</td>
                    <td><input type="text" id="data7" value="A"></td>
                </tr>
                <tr>
                    <td>추적번호 (7~)</td>
                    <td><input type="text" id="data8" value="0000001"></td>
                </tr>
                <tr>
                    <td>기타</td>
                    <td>업체영역</td>
                    <td><input type="text" id="data9" value="21.920.6"></td>
                </tr>
                <tr>
                    <td colspan="2">지그번호</td>
                    <td><input type="text" id="data10" value="ST1_1" placeholder="ST로 시작해야함(ST1_1 ~ ST4_2)"></td>
                </tr>
                <tr>
                    <td colspan="2">프린트위치</td>
                    <td><input type="text" id="data11" value="1" placeholder="(1~4)"></td>
                </tr>
            </table>
            <button id="btn_print">PRINT</button>
        </div>
    </div>
    <script>
        $(document).ready(function() {
            $('#btn_print').click(function() {
                const data = {
                    data1: $('#data1').val(),
                    data2: $('#data2').val(),
                    data3: $('#data3').val(),
                    data4: $('#data4').val(),
                    data5: $('#data5').val(),
                    data6: $('#data6').val(),
                    data7: $('#data7').val(),
                    data8: $('#data8').val(),
                    data9: $('#data9').val(),
                    data10: $('#data10').val(),
                    data11: $('#data11').val()
                };

                $.ajax({
                    url: 'http://127.0.0.1:5000/print',  // 서버의 프린트 요청 URL
                    method: 'POST',
                    contentType: 'application/json',
                    data: JSON.stringify(data),
                    success: function(response) {
                        // console.log(data);
                        alert('프린트 요청 성공');
                    },
                    error: function(error) {
                        // console.log(data);
                        alert('프린트 요청 실패');
                    }
                });
            });
        });
    </script>
</body>

</html>